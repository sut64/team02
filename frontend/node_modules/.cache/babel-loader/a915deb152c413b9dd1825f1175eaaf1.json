{"ast":null,"code":"var _jsxFileName = \"C:\\\\team02\\\\frontend\\\\src\\\\components\\\\BookReturnCreate.tsx\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport { Link as RouterLink } from \"react-router-dom\";\nimport { makeStyles, createStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Container from \"@material-ui/core/Container\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Box from \"@material-ui/core/Box\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Divider from \"@material-ui/core/Divider\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport Select from \"@material-ui/core/Select\";\nimport MenuItem from '@material-ui/core/MenuItem';\nimport MuiAlert from \"@material-ui/lab/Alert\";\nimport { MuiPickersUtilsProvider, KeyboardDatePicker } from \"@material-ui/pickers\";\nimport { TextField } from \"@material-ui/core\";\nimport DateFnsUtils from '@date-io/date-fns';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Alert = props => {\n  return /*#__PURE__*/_jsxDEV(MuiAlert, {\n    elevation: 6,\n    variant: \"filled\",\n    ...props\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 12\n  }, this);\n};\n\n_c = Alert;\nconst useStyles = makeStyles(theme => createStyles({\n  root: {\n    flexGrow: 1\n  },\n  container: {\n    marginTop: theme.spacing(2)\n  },\n  paper: {\n    padding: theme.spacing(2),\n    color: theme.palette.text.secondary\n  }\n}));\n\nfunction BookReturnCreate() {\n  _s();\n\n  const classes = useStyles();\n  const [selectedDate, setSelectedDate] = useState(new Date());\n  const [servicePlaces, setServicePlaces] = useState([]);\n  const [status, setStatus] = useState([]);\n  const [borrowDetails, setborrowDetails] = useState([]);\n  const [members, setMembers] = useState();\n  const [book_return, setBookReturn] = useState({});\n  const [success, setSuccess] = useState(false);\n  const [error, setError] = useState(false);\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  const apiUrl = \"http://localhost:8080\";\n  const requestOptions = {\n    method: \"GET\",\n    headers: {\n      Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n      \"Content-Type\": \"application/json\"\n    }\n  };\n\n  const handleClose = (event, reason) => {\n    if (reason === \"clickaway\") {\n      return;\n    }\n\n    setSuccess(false);\n    setError(false);\n  };\n\n  const handleInputChange = event => {\n    const id = event.target.id;\n    const {\n      value\n    } = event.target;\n    setBookReturn({ ...book_return,\n      [id]: value\n    });\n  };\n\n  const handleChange = event => {\n    const name = event.target.name;\n    setBookReturn({ ...book_return,\n      [name]: event.target.value\n    });\n  };\n\n  const handleMember = event => {\n    const id = Number(event.target.value);\n    console.log(id);\n    const name = event.target.name;\n    setBookReturn({ ...book_return,\n      [name]: event.target.value\n    });\n  };\n\n  const handleDateChange = date => {\n    console.log(date);\n    setSelectedDate(date);\n  };\n\n  console.log(\"value\", book_return);\n\n  const getMember = async () => {\n    let uid = localStorage.getItem(\"uid\");\n    fetch(`${apiUrl}/member/${uid}`, requestOptions).then(response => response.json()).then(res => {\n      book_return.MemberID = res.data.ID;\n\n      if (res.data) {\n        console.log(res.data);\n        setMembers(res.data);\n        getBorrowDetails(res.data.ID);\n      } else {\n        console.log(\"else\");\n      }\n    });\n  };\n\n  const getSevicePlace = async () => {\n    fetch(`${apiUrl}/places`, requestOptions).then(response => response.json()).then(res => {\n      console.log(res.data);\n\n      if (res.data) {\n        setServicePlaces(res.data);\n      } else {\n        console.log(\"else\");\n      }\n    });\n  }; // const onUpdateStatusBorrowdetail =async (value: BookReturnsInterface) => {\n  //     let data={ StatusID: 2,\n  //     }\n  //     console.log(\"Borrow\",value)\n  //     const requestOptions = {\n  //         method: \"PATCH\",\n  //         headers: {\n  //             Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n  //             \"Content-Type\": \"application/json\",\n  //         },\n  //         body: JSON.stringify(data),\n  //     };\n  //     fetch(`${apiUrl}/borrows/${value.BorrowDetail.ID}`, requestOptions)\n  //     .then((response) => response.json())\n  //         .then((res) => {\n  //             console.log(res.data);\n  //             if (res.data) {\n  //                 setborrowDetails(res.data);\n  //                 console.log(res.data);\n  //             } else {\n  //                 console.log(\"else\");\n  //             }\n  //         });\n  // }\n\n\n  const getBorrowDetails = async id => {\n    fetch(`${apiUrl}/borrow/member/${id}`, requestOptions).then(response => response.json()).then(res => {\n      console.log(res.data);\n\n      if (res.data) {\n        setborrowDetails(res.data);\n        console.log(res.data);\n      } else {\n        console.log(\"else\");\n      }\n    });\n  };\n\n  console.log(\"value data\", borrowDetails);\n\n  const getStatus = async () => {\n    fetch(`${apiUrl}/statuses`, requestOptions).then(response => response.json()).then(res => {\n      if (res.data) {\n        setStatus(res.data);\n      } else {\n        console.log(\"else\");\n      }\n    });\n  };\n\n  useEffect(() => {\n    getMember();\n    getSevicePlace();\n    getStatus();\n  }, []);\n\n  const convertType = data => {\n    let val = typeof data === \"string\" ? parseInt(data) : data;\n    return val;\n  };\n\n  function submit() {\n    var _book_return$Tel;\n\n    let data = {\n      MemberID: convertType(book_return.MemberID),\n      BorrowDetailID: convertType(book_return.BorrowDetailID),\n      ServicePlaceID: convertType(book_return.ServicePlaceID),\n      Damage: convertType(book_return.Damage),\n      Tel: (_book_return$Tel = book_return.Tel) !== null && _book_return$Tel !== void 0 ? _book_return$Tel : \"\",\n      DateReturn: selectedDate,\n      StatusID: 2\n    };\n    console.log(data);\n    const requestOptionsPost = {\n      method: \"POST\",\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(data)\n    };\n    fetch(`${apiUrl}/book_return`, requestOptionsPost).then(response => response.json()).then(res => {\n      if (res.data) {\n        // onUpdateStatusBorrowdetail(res.data)\n        setSuccess(true);\n        setErrorMessage(\"\");\n      } else {\n        setError(true);\n        setErrorMessage(res.error);\n      }\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    className: classes.container,\n    maxWidth: \"md\",\n    children: [/*#__PURE__*/_jsxDEV(Snackbar, {\n      open: success,\n      autoHideDuration: 6000,\n      onClose: handleClose,\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        onClose: handleClose,\n        severity: \"success\",\n        children: \"\\u0E1A\\u0E31\\u0E19\\u0E17\\u0E36\\u0E01\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\\u0E2A\\u0E4D\\u0E32\\u0E40\\u0E23\\u0E47\\u0E08\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Snackbar, {\n      open: error,\n      autoHideDuration: 6000,\n      onClose: handleClose,\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        onClose: handleClose,\n        severity: \"error\",\n        children: [\"\\u0E1A\\u0E31\\u0E19\\u0E17\\u0E36\\u0E01\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\\u0E44\\u0E21\\u0E48\\u0E2A\\u0E4D\\u0E32\\u0E40\\u0E23\\u0E47\\u0E08: \", errorMessage]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Paper, {\n      className: classes.paper,\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        display: \"flex\",\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          flexGrow: 1,\n          children: /*#__PURE__*/_jsxDEV(Typography, {\n            component: \"h2\",\n            variant: \"h6\",\n            color: \"primary\",\n            gutterBottom: true,\n            children: \"RETURN BOOK\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 3,\n        className: classes.root,\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 6,\n          children: /*#__PURE__*/_jsxDEV(FormControl, {\n            fullWidth: true,\n            variant: \"standard\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E1C\\u0E39\\u0E49\\u0E04\\u0E37\\u0E19\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 277,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(TextField, {\n              disabled: true,\n              id: \"MemberID\",\n              value: members === null || members === void 0 ? void 0 : members.Name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 278,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 6,\n          children: /*#__PURE__*/_jsxDEV(FormControl, {\n            fullWidth: true,\n            variant: \"standard\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"\\u0E2B\\u0E19\\u0E31\\u0E07\\u0E2A\\u0E37\\u0E2D\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 289,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              native: true,\n              value: book_return.BorrowDetailID,\n              onChange: handleMember,\n              inputProps: {\n                name: \"BorrowDetailID\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                \"aria-label\": \"None\",\n                value: \"\",\n                children: \"\\u0E40\\u0E25\\u0E37\\u0E2D\\u0E01\\u0E2B\\u0E19\\u0E31\\u0E07\\u0E2A\\u0E37\\u0E2D\\u0E17\\u0E35\\u0E48\\u0E15\\u0E49\\u0E2D\\u0E07\\u0E01\\u0E32\\u0E23\\u0E04\\u0E37\\u0E19\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 298,\n                columnNumber: 33\n              }, this), borrowDetails.map(item => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: item.ID,\n                children: item.BookOrder.BookTitle\n              }, item.ID, false, {\n                fileName: _jsxFileName,\n                lineNumber: 303,\n                columnNumber: 37\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 290,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 6,\n          children: /*#__PURE__*/_jsxDEV(FormControl, {\n            fullWidth: true,\n            variant: \"standard\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"\\u0E2A\\u0E16\\u0E32\\u0E19\\u0E1A\\u0E23\\u0E34\\u0E01\\u0E32\\u0E23\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 312,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              native: true,\n              value: book_return.ServicePlaceID,\n              onChange: handleChange,\n              inputProps: {\n                name: \"ServicePlaceID\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                \"aria-label\": \"None\",\n                value: \"\",\n                children: \"\\u0E40\\u0E25\\u0E37\\u0E2D\\u0E01\\u0E2A\\u0E16\\u0E32\\u0E19\\u0E17\\u0E35\\u0E48\\u0E17\\u0E35\\u0E48\\u0E44\\u0E1B\\u0E43\\u0E0A\\u0E49\\u0E1A\\u0E23\\u0E34\\u0E01\\u0E32\\u0E23\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 321,\n                columnNumber: 33\n              }, this), servicePlaces.map(item => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: item.ID,\n                children: item.Name\n              }, item.ID, false, {\n                fileName: _jsxFileName,\n                lineNumber: 325,\n                columnNumber: 37\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 313,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 6,\n          children: /*#__PURE__*/_jsxDEV(FormControl, {\n            fullWidth: true,\n            variant: \"standard\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"\\u0E08\\u0E33\\u0E19\\u0E27\\u0E19\\u0E08\\u0E38\\u0E14\\u0E17\\u0E35\\u0E48\\u0E0A\\u0E33\\u0E23\\u0E38\\u0E14\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 335,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(TextField, {\n              id: \"Damage\",\n              variant: \"standard\",\n              type: \"number\",\n              size: \"medium\",\n              placeholder: \"\",\n              value: book_return.Damage || \"\",\n              onChange: handleInputChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 336,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 6,\n          children: /*#__PURE__*/_jsxDEV(FormControl, {\n            fullWidth: true,\n            variant: \"standard\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"\\u0E40\\u0E1A\\u0E2D\\u0E23\\u0E4C\\u0E42\\u0E17\\u0E23\\u0E28\\u0E31\\u0E1E\\u0E17\\u0E4C\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 350,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(TextField, {\n              required: true,\n              id: \"Tel\",\n              variant: \"standard\",\n              type: \"string\",\n              size: \"medium\",\n              placeholder: \"(+66)\",\n              value: book_return.Tel || \"\",\n              onChange: handleInputChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 351,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 6,\n          children: /*#__PURE__*/_jsxDEV(FormControl, {\n            fullWidth: true,\n            variant: \"standard\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"\\u0E27\\u0E31\\u0E19\\u0E17\\u0E35\\u0E48\\u0E04\\u0E37\\u0E19\\u0E2B\\u0E19\\u0E31\\u0E07\\u0E2A\\u0E37\\u0E2D\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 367,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(MuiPickersUtilsProvider, {\n              utils: DateFnsUtils,\n              children: /*#__PURE__*/_jsxDEV(KeyboardDatePicker, {\n                name: \"DateReturn\",\n                value: selectedDate,\n                onChange: handleDateChange,\n                label: \"\\u0E01\\u0E23\\u0E38\\u0E13\\u0E32\\u0E40\\u0E25\\u0E37\\u0E2D\\u0E01\\u0E27\\u0E31\\u0E19\\u0E17\\u0E35\\u0E48\",\n                size: \"medium\",\n                minDate: new Date(\"2018-01-01T00:00\"),\n                format: \"yyyy/MM/dd \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 369,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 368,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 366,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 365,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          children: /*#__PURE__*/_jsxDEV(FormControl, {\n            fullWidth: true,\n            variant: \"standard\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"\\u0E2A\\u0E16\\u0E32\\u0E19\\u0E30\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 384,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              id: \"status\",\n              value: 2,\n              onChange: handleChange,\n              style: {\n                width: 300\n              },\n              disabled: true,\n              inputProps: {\n                name: \"StatusID\"\n              },\n              children: status.map(item => /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: item.ID,\n                children: item.Name\n              }, item.ID, false, {\n                fileName: _jsxFileName,\n                lineNumber: 397,\n                columnNumber: 37\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 386,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 383,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 382,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            component: RouterLink,\n            to: \"/book_return\",\n            variant: \"contained\",\n            children: \"\\u0E01\\u0E25\\u0E31\\u0E1A\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 407,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            style: {\n              float: \"right\"\n            },\n            variant: \"contained\",\n            onClick: submit,\n            color: \"primary\",\n            children: \"\\u0E1A\\u0E31\\u0E19\\u0E17\\u0E36\\u0E01\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 415,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 406,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 246,\n    columnNumber: 9\n  }, this);\n}\n\n_s(BookReturnCreate, \"SJJHg7P5Js5TNM/wBH+Ez+8o/ug=\", false, function () {\n  return [useStyles];\n});\n\n_c2 = BookReturnCreate;\nexport default BookReturnCreate;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Alert\");\n$RefreshReg$(_c2, \"BookReturnCreate\");","map":{"version":3,"sources":["C:/team02/frontend/src/components/BookReturnCreate.tsx"],"names":["useEffect","useState","Link","RouterLink","makeStyles","createStyles","Button","FormControl","Container","Paper","Grid","Box","Typography","Divider","Snackbar","Select","MenuItem","MuiAlert","MuiPickersUtilsProvider","KeyboardDatePicker","TextField","DateFnsUtils","Alert","props","useStyles","theme","root","flexGrow","container","marginTop","spacing","paper","padding","color","palette","text","secondary","BookReturnCreate","classes","selectedDate","setSelectedDate","Date","servicePlaces","setServicePlaces","status","setStatus","borrowDetails","setborrowDetails","members","setMembers","book_return","setBookReturn","success","setSuccess","error","setError","errorMessage","setErrorMessage","apiUrl","requestOptions","method","headers","Authorization","localStorage","getItem","handleClose","event","reason","handleInputChange","id","target","value","handleChange","name","handleMember","Number","console","log","handleDateChange","date","getMember","uid","fetch","then","response","json","res","MemberID","data","ID","getBorrowDetails","getSevicePlace","getStatus","convertType","val","parseInt","submit","BorrowDetailID","ServicePlaceID","Damage","Tel","DateReturn","StatusID","requestOptionsPost","body","JSON","stringify","Name","map","item","BookOrder","BookTitle","width","float"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { Link as RouterLink } from \"react-router-dom\";\r\nimport {\r\n    makeStyles,\r\n    Theme,\r\n    createStyles,\r\n    alpha,\r\n} from \"@material-ui/core/styles\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport Snackbar from \"@material-ui/core/Snackbar\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport MuiAlert, { AlertProps } from \"@material-ui/lab/Alert\";\r\nimport { ServicePlacesInterface } from \"../models/IServicePlace\";\r\nimport { StatusInterface } from \"../models/IStatus\";\r\nimport { BorrowDetailInterface } from \"../models/IBorrowDetail\";\r\nimport { BookReturnsInterface } from \"../models/IBookReturn\";\r\nimport { MembersInterface } from \"../models/IMember\";\r\nimport {\r\n    MuiPickersUtilsProvider,\r\n    KeyboardDatePicker,\r\n} from \"@material-ui/pickers\";\r\nimport { TextField } from \"@material-ui/core\";\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport { isTemplateExpression } from \"typescript\";\r\n\r\nconst Alert = (props: AlertProps) => {\r\n    return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n};\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n    createStyles({\r\n        root: {\r\n            flexGrow: 1,\r\n        },\r\n        container: {\r\n            marginTop: theme.spacing(2),\r\n        },\r\n        paper: {\r\n            padding: theme.spacing(2),\r\n            color: theme.palette.text.secondary,\r\n        },\r\n    })\r\n);\r\n\r\n\r\n\r\nfunction BookReturnCreate() {\r\n    const classes = useStyles();\r\n    const [selectedDate, setSelectedDate] = useState<Date | null>(new\r\n        Date());\r\n    const [servicePlaces, setServicePlaces] = useState<ServicePlacesInterface[]>([]);\r\n    const [status, setStatus] = useState<StatusInterface[]>([]);\r\n    const [borrowDetails, setborrowDetails] = useState<BorrowDetailInterface[]>([]);\r\n    const [members, setMembers] = useState<MembersInterface>();\r\n    const [book_return, setBookReturn] =\r\n        useState<Partial<BookReturnsInterface>>(\r\n            {}\r\n        );\r\n    const [success, setSuccess] = useState(false);\r\n    const [error, setError] = useState(false);\r\n    const [errorMessage, setErrorMessage] = useState(\"\");\r\n    const apiUrl = \"http://localhost:8080\";\r\n    const requestOptions = {\r\n        method: \"GET\",\r\n        headers: {\r\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n            \"Content-Type\": \"application/json\",\r\n        },\r\n    };\r\n    const handleClose = (event?: React.SyntheticEvent, reason?: string) => {\r\n        if (reason === \"clickaway\") {\r\n            return;\r\n        }\r\n        setSuccess(false);\r\n        setError(false);\r\n    };\r\n\r\n    const handleInputChange = (\r\n        event: React.ChangeEvent<{ id?: string; value: any }>\r\n    ) => {\r\n        const id = event.target.id as keyof typeof book_return;\r\n        const { value } = event.target;\r\n        setBookReturn({ ...book_return, [id]: value });\r\n    };\r\n\r\n    const handleChange = (\r\n        event: React.ChangeEvent<{ name?: string; value: unknown }>\r\n    ) => {\r\n        const name = event.target.name as keyof typeof book_return;\r\n        setBookReturn({\r\n            ...book_return,\r\n            [name]: event.target.value,\r\n        });\r\n    };\r\n\r\n    const handleMember = (\r\n        event: React.ChangeEvent<{ name?: string; value: unknown }>\r\n    ) => {\r\n        const id = Number(event.target.value);\r\n        console.log(id)\r\n        const name = event.target.name as keyof typeof book_return;\r\n        setBookReturn({\r\n            ...book_return,\r\n            [name]: event.target.value,\r\n        });\r\n    }\r\n\r\n    const handleDateChange = (date: Date | null) => {\r\n        console.log(date);\r\n        setSelectedDate(date);\r\n    };\r\n\r\n    console.log(\"value\", book_return)\r\n    const getMember = async () => {\r\n        let uid = localStorage.getItem(\"uid\");\r\n        fetch(`${apiUrl}/member/${uid}`, requestOptions)\r\n            .then((response) => response.json())\r\n            .then((res) => {\r\n                book_return.MemberID = res.data.ID\r\n                if (res.data) {\r\n                    console.log(res.data);\r\n                    setMembers(res.data);\r\n                    getBorrowDetails(res.data.ID);\r\n                } else {\r\n                    console.log(\"else\");\r\n                }\r\n            });\r\n    };\r\n\r\n    const getSevicePlace = async () => {\r\n\r\n        fetch(`${apiUrl}/places`, requestOptions)\r\n            .then((response) => response.json())\r\n            .then((res) => {\r\n                console.log(res.data);\r\n                if (res.data) {\r\n                    setServicePlaces(res.data);\r\n                } else {\r\n                    console.log(\"else\");\r\n                }\r\n            });\r\n    };\r\n\r\n    // const onUpdateStatusBorrowdetail =async (value: BookReturnsInterface) => {\r\n    //     let data={ StatusID: 2,\r\n            \r\n    //     }\r\n    //     console.log(\"Borrow\",value)\r\n    //     const requestOptions = {\r\n    //         method: \"PATCH\",\r\n    //         headers: {\r\n    //             Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n    //             \"Content-Type\": \"application/json\",\r\n    //         },\r\n    //         body: JSON.stringify(data),\r\n    //     };\r\n    //     fetch(`${apiUrl}/borrows/${value.BorrowDetail.ID}`, requestOptions)\r\n    //     .then((response) => response.json())\r\n    //         .then((res) => {\r\n    //             console.log(res.data);\r\n    //             if (res.data) {\r\n    //                 setborrowDetails(res.data);\r\n    //                 console.log(res.data);\r\n    //             } else {\r\n    //                 console.log(\"else\");\r\n    //             }\r\n    //         });\r\n    // }\r\n    const getBorrowDetails = async (id: number) => {\r\n\r\n        fetch(`${apiUrl}/borrow/member/${id}`, requestOptions)\r\n            .then((response) => response.json())\r\n            .then((res) => {\r\n                console.log(res.data);\r\n                if (res.data) {\r\n                    setborrowDetails(res.data);\r\n                    console.log(res.data);\r\n                } else {\r\n                    console.log(\"else\");\r\n                }\r\n            });\r\n    };\r\n    console.log(\"value data\", borrowDetails);\r\n\r\n    const getStatus = async () => {\r\n        fetch(`${apiUrl}/statuses`, requestOptions)\r\n            .then((response) => response.json())\r\n            .then((res) => {\r\n                if (res.data) {\r\n                    setStatus(res.data);\r\n                } else {\r\n                    console.log(\"else\");\r\n                }\r\n            });\r\n    };\r\n    useEffect(() => {\r\n        getMember();\r\n        getSevicePlace();\r\n        getStatus();\r\n    }, []);\r\n    const convertType = (data: string | number | undefined) => {\r\n        let val = typeof data === \"string\" ? parseInt(data) : data;\r\n        return val;\r\n    };\r\n    function submit() {\r\n        let data = {\r\n            MemberID: convertType(book_return.MemberID),\r\n            BorrowDetailID: convertType(book_return.BorrowDetailID),\r\n            ServicePlaceID: convertType(book_return.ServicePlaceID),\r\n            Damage: convertType(book_return.Damage),\r\n            Tel: book_return.Tel ?? \"\",\r\n            DateReturn: selectedDate,\r\n            StatusID: 2,\r\n            \r\n        };\r\n        console.log(data)\r\n        const requestOptionsPost = {\r\n            method: \"POST\",\r\n            headers: {\r\n                Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n                \"Content-Type\": \"application/json\",\r\n            },\r\n            body: JSON.stringify(data),\r\n        };\r\n        fetch(`${apiUrl}/book_return`, requestOptionsPost)\r\n            .then((response) => response.json())\r\n            .then((res) => {\r\n                if (res.data) {\r\n                    // onUpdateStatusBorrowdetail(res.data)\r\n                    setSuccess(true);\r\n                    setErrorMessage(\"\")\r\n                } else {\r\n                    setError(true);\r\n                    setErrorMessage(res.error)\r\n                }\r\n            });\r\n    }\r\n    return (\r\n        <Container className={classes.container} maxWidth=\"md\">\r\n            <Snackbar open={success} autoHideDuration={6000}\r\n                onClose={handleClose}>\r\n                <Alert onClose={handleClose} severity=\"success\">\r\n                    บันทึกข้อมูลสําเร็จ\r\n                </Alert>\r\n            </Snackbar>\r\n            <Snackbar open={error} autoHideDuration={6000}\r\n                onClose={handleClose}>\r\n                <Alert onClose={handleClose} severity=\"error\">\r\n                    บันทึกข้อมูลไม่สําเร็จ: {errorMessage}\r\n                </Alert>\r\n\r\n            </Snackbar>\r\n            <Paper className={classes.paper}>\r\n                <Box display=\"flex\">\r\n                    <Box flexGrow={1}>\r\n                        <Typography\r\n                            component=\"h2\"\r\n                            variant=\"h6\"\r\n                            color=\"primary\"\r\n                            gutterBottom\r\n                        >\r\n                            RETURN BOOK\r\n                        </Typography>\r\n                    </Box>\r\n                </Box>\r\n                <Divider />\r\n                <Grid container spacing={3} className={classes.root}>\r\n                    <Grid item xs={6}>\r\n                        <FormControl fullWidth variant=\"standard\">\r\n                            <p>ชื่อผู้คืน</p>\r\n                            <TextField\r\n                                disabled\r\n                                id=\"MemberID\"\r\n                                value={members?.Name}\r\n\r\n                            />\r\n                        </FormControl>\r\n\r\n                    </Grid>\r\n                    <Grid item xs={6}>\r\n                        <FormControl fullWidth variant=\"standard\">\r\n                            <p>หนังสือ</p>\r\n                            <Select\r\n                                native\r\n                                value={book_return.BorrowDetailID}\r\n                                onChange={handleMember}\r\n                                inputProps={{\r\n                                    name: \"BorrowDetailID\",\r\n                                }}\r\n                            >\r\n                                <option aria-label=\"None\" value=\"\">\r\n                                    เลือกหนังสือที่ต้องการคืน\r\n                                </option>\r\n\r\n                                {borrowDetails.map((item: BorrowDetailInterface) => (\r\n                                    <option value={item.ID} key={item.ID}>\r\n                                        {item.BookOrder.BookTitle}\r\n                                    </option>\r\n                                ))}\r\n                            </Select>\r\n                        </FormControl>\r\n                    </Grid>\r\n                    <Grid item xs={6}>\r\n                        <FormControl fullWidth variant=\"standard\">\r\n                            <p>สถานบริการ</p>\r\n                            <Select\r\n                                native\r\n                                value={book_return.ServicePlaceID}\r\n                                onChange={handleChange}\r\n                                inputProps={{\r\n                                    name: \"ServicePlaceID\",\r\n                                }}\r\n                            >\r\n                                <option aria-label=\"None\" value=\"\">\r\n                                    เลือกสถานที่ที่ไปใช้บริการ\r\n                                </option>\r\n                                {servicePlaces.map((item: ServicePlacesInterface) => (\r\n                                    <option value={item.ID} key={item.ID}>\r\n                                        {item.Name}\r\n                                    </option>\r\n                                ))}\r\n                            </Select>\r\n                        </FormControl>\r\n                    </Grid>\r\n\r\n                    <Grid item xs={6}>\r\n                        <FormControl fullWidth variant=\"standard\" >\r\n                            <p>จำนวนจุดที่ชำรุด</p>\r\n                            <TextField\r\n                                id=\"Damage\"\r\n                                variant=\"standard\"\r\n                                type=\"number\"\r\n                                size=\"medium\"\r\n                                placeholder=\"\"\r\n                                value={book_return.Damage || \"\"}\r\n                                onChange={handleInputChange}\r\n                            />\r\n                        </FormControl>\r\n                    </Grid>\r\n\r\n                    <Grid item xs={6}>\r\n                        <FormControl fullWidth variant=\"standard\">\r\n                            <p>เบอร์โทรศัพท์</p>\r\n                            <TextField\r\n                                required\r\n                                id=\"Tel\"\r\n                                variant=\"standard\"\r\n                                type=\"string\"\r\n                                size=\"medium\"\r\n                                placeholder=\"(+66)\"\r\n                                value={book_return.Tel || \"\"}\r\n                                onChange={handleInputChange}\r\n\r\n                            />\r\n                        </FormControl>\r\n                    </Grid>\r\n\r\n                    <Grid item xs={6}>\r\n                        <FormControl fullWidth variant=\"standard\">\r\n                            <p>วันที่คืนหนังสือ</p>\r\n                            <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n                                <KeyboardDatePicker\r\n                                    name=\"DateReturn\"\r\n                                    value={selectedDate}\r\n                                    onChange={handleDateChange}\r\n                                    label=\"กรุณาเลือกวันที่\"\r\n                                    size=\"medium\"\r\n                                    minDate={new Date(\"2018-01-01T00:00\")}\r\n                                    format=\"yyyy/MM/dd \"\r\n                                />\r\n                            </MuiPickersUtilsProvider>\r\n                        </FormControl>\r\n                    </Grid>\r\n\r\n                    <Grid item xs={12}>\r\n                        <FormControl fullWidth variant=\"standard\">\r\n                            <p>สถานะ</p>\r\n\r\n                            <Select\r\n                                id=\"status\"\r\n                                value={2}\r\n                                onChange={handleChange}\r\n                                style={{ width: 300 }}\r\n                                disabled\r\n                                inputProps={{\r\n                                    name: \"StatusID\",\r\n                                }}\r\n                            >\r\n                                {status.map((item: StatusInterface) =>\r\n                                    <MenuItem value={item.ID} key={item.ID}>\r\n                                        {item.Name}\r\n                                    </MenuItem>\r\n                                )}\r\n                            </Select>\r\n\r\n                        </FormControl>\r\n                    </Grid>\r\n\r\n                    <Grid item xs={12}>\r\n                        <Button\r\n                            component={RouterLink}\r\n                            to=\"/book_return\"\r\n                            variant=\"contained\"\r\n                        >\r\n                            กลับ\r\n                        </Button>\r\n\r\n                        <Button\r\n                            style={{ float: \"right\" }}\r\n                            variant=\"contained\"\r\n                            onClick={submit}\r\n                            color=\"primary\"\r\n                        >\r\n                            บันทึก\r\n                        </Button>\r\n                    </Grid>\r\n                </Grid>\r\n            </Paper>\r\n        </Container>\r\n    );\r\n}\r\nexport default BookReturnCreate;"]},"metadata":{},"sourceType":"module"}